<!DOCTYPE html>
<html>
<head>
	<title>Leaflet - a modern, lightweight JavaScript library for interactive maps by CloudMade - Leaflet on Mobile Example</title>
	
	<meta charset="utf-8" />
	<meta property="og:title" content="Leaflet â€” an open-source JavaScript library for interactive maps" /> 
	<meta property="og:description" content="Leaflet is a modern, lightweight BSD-licensed JavaScript library for making tile-based interactive maps for both desktop and mobile web browsers, developed by CloudMade to form the core of its next generation JavaScript API." />
	
	<link rel="icon" type="image/png" href="../docs/images/favicon.png" />

	<!-- Blueprint -->
	<link rel="stylesheet" href="../docs/css/blueprint/screen.css" media="screen, projection">
	<link rel="stylesheet" href="../docs/css/blueprint/print.css" media="print">
	<!--[if lt IE 8]><link rel="stylesheet" href="../docs/css/blueprint/ie.css" media="screen, projection"><![endif]-->

	<link rel="stylesheet" href="../docs/css/screen.css" media="screen, projection" />

	<script src="../docs/highlight/highlight.pack.js"></script>
	<link rel="stylesheet" href="../docs/highlight/styles/github.css" />

	<!-- Leaflet -->
	<link rel="stylesheet" href="../dist/leaflet.css" />
	<!--[if lte IE 8]><link rel="stylesheet" href="../dist/leaflet.ie.css" /><![endif]-->
	<script src="../dist/leaflet.js"></script>
</head>
<body>
	<div class="container">
		<h1>Leaflet</h1>
		<h3 class="alt">A Modern, Lightweight Open-Source JavaScript Library for Interactive Maps by <a href="http://cloudmade.com">CloudMade</a></h3>
		
		<ul class="nav clearfix">
			<li><a href="../index.html">Overview</a></li>
			<li><a href="../features.html">Features</a></li>  
			<li><a href="../examples.html">Examples</a></li> 
			<li><a href="../reference.html">Documentation</a></li> 
			<li><a href="../download.html">Download</a></li> 
			<li><a class="twitter-link" href="http://twitter.com/LeafletJS">@LeafletJS</a></li>
			<li><a class="github-link" href="http://github.com/CloudMade/Leaflet">GitHub Repo</a></li> 
		</ul>
		
		<p><a href="../examples.html">&larr; Back to the list of examples</a></p>
		<h3>Using GeoJSON with Leaflet</h3>
		
		<p>In this example, you'll learn how to create and interact with map vectors created from <a href="http://geojson.org/">GeoJSON</a> objects.</p>
		
		<p><a target="_blank" href="geojson-example.html">View example &rarr;</a></p>
		
		<h3>About GeoJSON</h3>
		
		<p>According to <a href="http://geojson.org">http://geojson.org</a>:</p>
		
		<blockquote>GeoJSON is a format for encoding a variety of geographic data structures. A GeoJSON object may represent a geometry, a feature, or a collection of features. GeoJSON supports the following geometry types: Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, and GeometryCollection. Features in GeoJSON contain a geometry object and additional properties, and a feature collection represents a list of features.</blockquote>
		
		<p>Leaflet supports all of the GeoJSON types above but <a href="http://geojson.org/geojson-spec.html#feature-objects">Features</a> and <a href="http://geojson.org/geojson-spec.html#feature-collection-objects">FeatureCollections</a> allow you to describe features with a set of properties. We can even use these properties to style our Leaflet vectors. (<a target="_blank" href="geojson-example.html">see example</a>)</p>
		
		<h3>The GeoJSON layer</h3>
		
		<p>GeoJSON objects are added to the map through a <a href="http://leaflet.cloudmade.com/reference.html#geojson">GeoJSON layer</a>. To create a GeoJSON layer and add it to a map we can use the following code.</p>
		
		<pre><code class="css">var geojson_layer = new L.GeoJSON();

map.addLayer( geojson_layer );</code></pre>

        <p>This creates an empty GeoJSON layer that we can easily add vectors to.</p>
        
        <pre><code>var a_geojson_feature = {
    "type": "Feature",
    "properties": {
        "name": "Coors Field",
        "amenity": "Baseball Stadium"
    },
    "geometry": {
        "type": "Point",
        "coordinates": [-104.99404, 39.75621]
    }
};

geojson_layer.addGeoJSON( a_geojson_feature );</code></pre>
        
        <p>We can also instantiate the GeoJSON layer with a GeoJSON object to show it immediately, without having to call <code>addGeoJSON</code>.</p>
        
        <pre><code>var a_geojson_feature = {
    "type": "Feature",
    "properties": {
        "name": "Coors Field",
        "amenity": "Baseball Stadium"
    },
    "geometry": {
        "type": "Point",
        "coordinates": [-104.99404, 39.75621]
    }
};
        
var geojson_layer = new L.GeoJSON( a_geojson_feature );

map.addLayer( geojson_layer );</code></pre>

        <h3>Popups</h3>
        
        <p>We can use popups to show information about these features when they are clicked. To accomplish this we'll listen to the <code>featureparse</code> event of the GeoJSON layer. Here we're checking to see if a feature has a property named "popup_content" and if so binding a popup to the feature so this text (or HTML) appears when clicked.</p>
        
        <pre><code>geojson_layer.on( "featureparse", function ( e ) {
    if ( e.properties &amp;&amp; e.properties.popup_content ) {
        e.layer.bindPopup( e.properties.popup_content );
    }
} );</code></pre>
        
        <h3>Styling Features</h3>

		<p>We can also listen to the <code>featureparse</code> event to style our LineString and Polygon features. As with our popup content, we can store our styling information in the properties of the GeoJSON object as well. These style properties should match those found in <a href="http://leaflet.cloudmade.com/reference.html#path-options">path options</a>. Our feature with styling information might look something like:</p>
		
		<pre><code>var free_bus = {
    "type": "Feature",
    "geometry": {
        "type": "LineString",
        "coordinates": [
            [-104.98726, 39.74136],
            [-104.98720, 39.74132],
            [-104.98715, 39.74127],
            [-104.98713, 39.74117],
            [-104.98712, 39.74106], ...
        ]
    },
    "properties": {
        "name": "16th Street Free Bus",
        "style": {
            "color": "#004070",
            "weight": 4,
            "opacity": 0.9
        },
        "popup_content": "This is the 16th street free bus ..."
    }
};</code></pre>
		
		<pre><code>geojson_layer.on( "featureparse", function ( e ) {
	if ( e.properties &amp;&amp; e.properties.style &amp;&amp; e.layer.setStyle ) {
	    // The setStyle method isn't available for Points. More on that later ...
		e.layer.setStyle( e.properties.style );
	}
} );</code></pre>
		
		<hr />
			
		<p class="quiet">&copy; 2011 <a href="http://cloudmade.com">CloudMade</a>. Map data &copy; 2011 <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>.</p>
	</div>
	
	<a href="http://github.com/CloudMade/Leaflet"><img id="forkme" src="http://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub" /></a>
	
	<script>
		hljs.tabReplace = '    ';
		hljs.initHighlightingOnLoad();
	</script> 

	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push([ '_setAccount', 'UA-4147697-4' ]);
		_gaq.push([ '_trackPageview' ]);

		(function() {
			var ga = document.createElement('script');
			ga.type = 'text/javascript';
			ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl'
					: 'http://www')
					+ '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0];
			s.parentNode.insertBefore(ga, s);
		})();
	</script>
</body>
</html>